<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7"
      crossorigin="anonymous"
    />
    <title>은행 검색</title>
  </head>
  <body>
    <section class="title mt-3 mb-3">
      <div class="container-fluid text-center bg-light p-3">
        <h3 class="title" style="margin-bottom: 0">은행 검색 페이지</h3>
      </div>
    </section>
    <div class="container-fluid">
      <div class="row">
        <section class="search col-3">
          <div class="do">
            <h5>광역시 / 도</h5>
            <div class="btn-group city">
              <button
                class="btn btn-outline-secondary dropdown-toggle"
                type="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                광역시 / 도를 선택해주세요.
              </button>
              <ul class="dropdown-menu">
                <li>광주</li>
              </ul>
            </div>
          </div>
          <div class="si">
            <h5>시 / 군 / 구</h5>
            <div class="btn-group si">
              <button
                class="btn btn-outline-secondary dropdown-toggle"
                type="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                시 / 군 / 구를 선택해주세요.
              </button>
              <ul class="dropdown-menu">
                <li>수원시</li>
              </ul>
            </div>
          </div>
          <div class="bank">
            <h5>은행</h5>
            <div class="btn-group bank">
              <button
                class="btn btn-outline-secondary dropdown-toggle"
                type="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                은행을 선택해주세요.
              </button>
              <ul class="dropdown-menu">
                <li>하나은행</li>
              </ul>
            </div>
          </div>
        </section>
        <section class="col-9">
          <div class="map container-fluid p-0">
            <div id="map" style="width: 100%; height: 60rem"></div>
          </div>
        </section>
      </div>
    </div>
    <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey="></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
      crossorigin="anonymous"
    ></script>
    <script>
      const mapContainer = document.getElementById("map"), // 지도를 표시할 div
        mapOption = {
          center: new kakao.maps.LatLng(37.4978, 127.02786), // 지도의 중심좌표
          level: 4, // 지도의 확대 레벨
          mapTypeId: kakao.maps.MapTypeId.ROADMAP, // 지도종류
        };

      // 지도를 생성한다
      const map = new kakao.maps.Map(mapContainer, mapOption);

      // data 불러오기
      fetch("/data.json")
        .then((response) => response.json())
        .then((data) => {
          const mapData = data.mapInfo
          let names = []
          let countries = []
          let banks = []
          for (const i in mapData){
            names.push(mapData[i].name)
            countries.concat(mapData[i].countries)
            names.push(mapData[i].name)
          }
        });
      // 마커를 표시할 위치와 title 객체 배열
      var positions = [
        {
          title: "카카오",
          latlng: new kakao.maps.LatLng(37.4978, 127.02786),
        },
        {
          title: "생태연못",
          latlng: new kakao.maps.LatLng(33.450936, 126.569477),
        },
        {
          title: "텃밭",
          latlng: new kakao.maps.LatLng(33.450879, 126.56994),
        },
        {
          title: "근린공원",
          latlng: new kakao.maps.LatLng(33.451393, 126.570738),
        },
      ];

      for (var i = 0; i < positions.length; i++) {
        // 마커를 생성합니다
        var marker = new kakao.maps.Marker({
          map: map, // 마커를 표시할 지도
          position: positions[i].latlng, // 마커를 표시할 위치
          title: positions[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
        });

        marker.setMap(map);
      }
    </script>
  </body>
</html>
